<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Demo Trading App</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{margin:0;font-family:Arial;background:#0e1f26;color:#fff}
.hidden{display:none}
.header{padding:12px;background:#102a33;display:flex;gap:10px}
select,input,button{padding:10px;border-radius:6px;border:none}
button{cursor:pointer;font-weight:bold}
.green{background:#20c997}
.red{background:#e74c3c}
#chart{height:280px;background:#08161c;display:flex;align-items:flex-end;padding:10px;gap:6px}
.candle{width:14px;position:relative;border-radius:2px}
.candle.green{background:#20c997}
.candle.red{background:#e74c3c}
.bottom{padding:12px;background:#102a33}
.signal{margin:8px 0;font-weight:bold}
.timer{font-size:18px;margin-bottom:6px}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="login">
  <h2 style="padding:12px">Secure Access</h2>
  <div style="padding:12px;display:grid;gap:10px">
    <input placeholder="Gmail">
    <input placeholder="Phone Number">
    <input type="password" placeholder="Password">
    <input id="otp" type="password" placeholder="Enter Access Code">
    <button onclick="checkOTP()">Unlock App</button>
    <small>Enter access code to continue</small>
  </div>
</div>

<!-- APP -->
<div id="app" class="hidden">

  <div class="header">
    <select>
      <option>USD/PKR (OTC)</option>
      <option>EUR/USD (OTC)</option>
      <option>GBP/USD (OTC)</option>
    </select>

    <select id="tf" onchange="resetTimer()">
      <option value="60">1 Minute</option>
      <option value="10">10 Seconds</option>
      <option value="5">5 Seconds</option>
    </select>
  </div>

  <div id="chart"></div>

  <div class="bottom">
    <div class="timer">Timer: <span id="timer">--</span></div>
    <div class="signal" id="signal">Signal: -- (Demo)</div>
    <button class="red">Down â†“</button>
    <button class="green">Up â†‘</button>
  </div>

</div>

<script>
const SECRET_OTP = "786900";
let price = 100;
let chart = document.getElementById("chart");
let timerSpan = document.getElementById("timer");
let signalSpan = document.getElementById("signal");
let timerValue = 60;
let interval;

function checkOTP(){
  if(document.getElementById("otp").value === SECRET_OTP){
    document.getElementById("login").classList.add("hidden");
    document.getElementById("app").classList.remove("hidden");
    resetTimer();
  } else {
    alert("Access denied");
  }
}

function resetTimer(){
  clearInterval(interval);
  timerValue = parseInt(document.getElementById("tf").value);
  timerSpan.textContent = timerValue;
  interval = setInterval(runTimer,1000);
}

function runTimer(){
  timerValue--;
  timerSpan.textContent = timerValue;

  if(timerValue <= 0){
    createCandle();
    resetTimer();
  }
}

function createCandle(){
  if(chart.children.length > 18){
    chart.removeChild(chart.firstChild);
  }

  let open = price;
  let close = price + (Math.random()-0.5)*6;
  price = close;

  let candle = document.createElement("div");
  candle.className = "candle " + (close >= open ? "green":"red");
  candle.style.height = Math.abs(close-open)*6 + 20 + "px";
  chart.appendChild(candle);

  let next = Math.random() > 0.5 ? "GREEN ðŸŸ¢" : "RED ðŸ”´";
  signalSpan.textContent = "Next Candle: " + next + " (live)";
}
</script>

</body>
</html>
