<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Quotex Style Live Candle Demo</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
  margin:0;
  background:#0f2027;
  color:#fff;
  font-family:Arial;
}

#top{
  padding:10px;
  display:flex;
  gap:10px;
  align-items:center;
  background:#122b33;
}

select{
  background:#0f2027;
  color:#fff;
  border:1px solid #2c5364;
  padding:6px;
}

#chart{
  position:relative;
  height:70vh;
  padding:20px;
  overflow:hidden;
}

.candle{
  position:absolute;
  bottom:80px;
  width:12px;
}

.body{
  position:absolute;
  width:100%;
  border-radius:2px;
}

.wick{
  position:absolute;
  width:2px;
  left:5px;
  background:#aaa;
}

.green{background:#2ecc71;}
.red{background:#e74c3c;}

#bottom{
  padding:15px;
  background:#122b33;
}

.btn{
  width:48%;
  padding:12px;
  font-size:18px;
  border:none;
  color:#fff;
  border-radius:6px;
}

.up{background:#1abc9c;}
.down{background:#e74c3c;}

.info{
  font-size:14px;
  opacity:0.8;
  margin-top:5px;
}
</style>
</head>

<body>

<div id="top">
  <select id="market">
    <option>USD/PKR (OTC)</option>
    <option>AUD/CAD</option>
    <option>EUR/USD</option>
    <option>GBP/USD</option>
  </select>

  <select id="timeframe">
    <option value="1000">5 Seconds</option>
    <option value="2000">10 Seconds</option>
    <option value="5000">1 Minute</option>
  </select>

  <div id="timer">‚è± 5</div>
</div>

<div id="chart"></div>

<div id="bottom">
  <div class="info" id="prediction">Next Candle: --</div>
  <br>
  <button class="btn down">Down ‚¨á</button>
  <button class="btn up">Up ‚¨Ü</button>
</div>

<script>
const chart = document.getElementById("chart");
const tf = document.getElementById("timeframe");
const timerBox = document.getElementById("timer");
const predictionBox = document.getElementById("prediction");

let candles=[];
let basePrice=289;
let x=30;
let interval=1000;
let countdown=5;

function nextPrediction(){
  predictionBox.innerText =
   "Next Candle: " + (Math.random()>0.5?"Green üü¢":"Red üî¥");
}

function createCandle(){
  let open=basePrice;
  let close=open+(Math.random()-0.5)*0.2;
  let high=Math.max(open,close)+Math.random()*0.1;
  let low=Math.min(open,close)-Math.random()*0.1;
  basePrice=close;

  const candle=document.createElement("div");
  candle.className="candle";
  candle.style.left=x+"px";

  const wick=document.createElement("div");
  wick.className="wick";
  wick.style.height=(high-low)*600+"px";
  wick.style.bottom=(low-288)*600+100+"px";

  const body=document.createElement("div");
  body.className="body "+(close>=open?"green":"red");
  body.style.height=Math.abs(close-open)*600+"px";
  body.style.bottom=(Math.min(open,close)-288)*600+100+"px";

  candle.appendChild(wick);
  candle.appendChild(body);
  chart.appendChild(candle);

  candles.push(candle);
  x+=20;

  if(candles.length>22){
    chart.removeChild(candles.shift());
  }

  nextPrediction();
}

function start(){
  clearInterval(window.loop);
  interval=parseInt(tf.value);
  countdown=interval/1000;

  window.loop=setInterval(()=>{
    createCandle();
    countdown=interval/1000;
  },interval);

  setInterval(()=>{
    countdown--;
    if(countdown<0) countdown=interval/1000;
    timerBox.innerText="‚è± "+countdown;
  },1000);
}

tf.onchange=start;
start();
</script>

</body>
</html>
